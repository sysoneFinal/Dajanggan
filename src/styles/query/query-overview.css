:root {
  --bg: #f3f5f7;
  --card: #ffffff;
  --text: #111827;
  --muted: #6b7280;
  --border: #e5e7eb;
  --shadow: 0 1.125rem 3.125rem rgba(8, 15, 23, 0.12);
  --primary: #7B61FF;
  --color-normal: #7B61FF;
  --color-warn: #FFD66B;
  --color-danger: #FF928A;
  --color-success: #51DAA8;
}

/* ========================================
   메인 컨테이너
======================================== */
.qo-root { padding: 1.25rem; max-width: 100%; box-sizing: border-box; }

/* ========================================
   메트릭 카드
======================================== */
.qo-metrics { display: flex; gap: 1rem; margin-bottom: 1.5rem; }

/* ========================================
   위젯 공통
======================================== */
.qo-widget-content { display: flex; flex-direction: column; width: 100%; height: 100%; gap: 0.75rem; position: relative; overflow: visible; }
.qo-widget-header { display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 0.625rem; flex-shrink: 0; position: relative; z-index: 10; }
.qo-header-right { display: flex; align-items: center; gap: 0.625rem; flex-wrap: wrap; }
.qo-card__title { display: flex; align-items: center; gap: 0.5rem; color: #6b7280; font-size: 0.875rem; font-weight: 600; letter-spacing: 0.01625rem; }

/* ========================================
   범례
======================================== */
.qo-legend { display: flex; gap: 1.25rem; }
.qo-legend-item { display: flex; align-items: center; gap: 0.5rem; font-size: 0.8125rem; color: #6b7280; font-weight: 500; }
.qo-legend-dot { width: 0.75rem; height: 0.75rem; border-radius: 50%; }

/* ========================================
   탭
======================================== */
.qo-tabs { display: flex; gap: 0.25rem; background: var(--bg); padding: 0.25rem; border-radius: 0.625rem; flex-wrap: wrap; }
.qo-tab { background: transparent; border: none; border-radius: 0.5rem; padding: 0.5rem 0.875rem; font-size: 0.8125rem; font-weight: 600; color: var(--muted); cursor: pointer; transition: all 0.2s; }
.qo-tab:hover { background: rgba(0, 0, 0, 0.05); color: var(--text); }
.qo-tab--active { background: #111827; color: #fff; }

/* ========================================
   섹션 타이틀
======================================== */
.qo-section-title { font-size: 1rem; font-weight: 600; color: var(--text); margin: 0 0 0.75rem 0; flex-shrink: 0; line-height: 1.4; }

/* ========================================
   Top N 쿼리 바
======================================== */
.qo-query-bar-list { display: flex; flex-direction: column; gap: 1rem; overflow: visible; padding-right: 0; }
.qo-query-item-wrapper { display: flex; flex-direction: column; gap: 0.25rem; background: rgba(248, 249, 250, 0.6); border-radius: 0.875rem; padding: 0.875rem 1rem; transition: all 0.2s ease; }
.qo-query-item-wrapper:hover { background: rgba(127, 129, 242, 0.08); }
.qo-query-bar-item { display: flex; align-items: center; gap: 0.875rem; width: 100%; }
.qo-query-id-info { display: flex; flex-direction: column; gap: 0.375rem; min-width: 9rem; flex-shrink: 0; }
.qo-query-id { font-size: 0.9375rem; font-weight: 700; color: var(--primary); }
.qo-query-desc { font-size: 0.8125rem; font-weight: 400; color: var(--muted); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; line-height: 1.3; }
.qo-query-bar-container { flex: 1; height: 2.25rem; background: rgba(229, 231, 235, 0.3); border-radius: 1rem; overflow: hidden; position: relative; min-width: 0; display: flex; align-items: center; }
.qo-query-bar { height: 100%; background: #7B61FF; border-radius: 1rem; display: flex; align-items: center; justify-content: center; padding: 0 0.75rem; position: relative; animation: barSlideIn 0.8s cubic-bezier(0.4, 0, 0.2, 1); transition: width 0.6s ease; }
.qo-query-bar-label { color: #fff; font-size: 0.875rem; font-weight: 700; white-space: nowrap; }
.qo-query-arrow { flex-shrink: 0; width: 1.75rem; height: 1.75rem; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: transform 0.2s ease; color: var(--muted); }
.qo-query-arrow:hover { transform: translateX(0.125rem); color: var(--text); }

/* ========================================
   슬로우 쿼리 TOP 5
======================================== */
.qo-query-list-wrapper-top5 { display: flex; flex-direction: column; margin-top: 1rem; }
.qo-query-list-wrapper-top5 .qo-query-list { display: flex; flex-direction: column; gap: 0.75rem; }
.qo-query-item { display: flex; flex-direction: column; background: rgba(255, 255, 255, 0.8); border: 0.0625rem solid var(--border); border-radius: 0.75rem; padding: 0.75rem 0.875rem; transition: all 0.2s ease; cursor: pointer; height: 6rem; min-height: 6rem; max-height: 6rem; animation: cardFadeIn 0.4s ease; justify-content: space-between; overflow: hidden; }
.qo-query-item:hover { background: rgba(127, 129, 242, 0.08); }
.qo-query-item-header { display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: 0.3125rem; gap: 0.5rem; min-height: 1.5rem; }
.qo-query-content { flex: 1; min-width: 0; }
.qo-query-text { font-size: 0.8125rem; font-weight: 600; color: var(--text); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; margin-bottom: 0.3125rem; line-height: 1.3; }
.qo-query-timestamp { font-size: 0.6875rem; color: var(--muted); font-weight: 500; white-space: nowrap; }
.qo-query-time { padding: 0.1875rem 0.625rem; border-radius: 0.375rem; font-size: 0.625rem; font-weight: 700; color: #fff; background-color: var(--color-danger); flex-shrink: 0; white-space: nowrap; }

/* ========================================
   리소스 사용률
======================================== */
.qo-resource-wrapper { display: flex; flex-direction: column; gap: 1.5rem; padding: 0.9375rem 0; width: 100%; }
.qo-resource-item { display: flex; flex-direction: column; gap: 0.75rem; }
.qo-resource-label { color: #374151; font-size: 0.9375rem; font-weight: 600; }
.qo-resource-bar-container { width: 100%; height: 1.75rem; background: rgba(229, 231, 235, 0.5); border-radius: 0.75rem; overflow: hidden; position: relative; }
.qo-resource-bar { height: 100%; border-radius: 0.75rem; transition: width 1.2s cubic-bezier(0.4, 0, 0.2, 1), background-color 0.5s ease; position: relative; animation: barPulse 3s ease-in-out infinite; }
.qo-resource-value { color: #111827; font-size: 1rem; font-weight: 700; text-align: right; }

/* ========================================
   슬로우 쿼리 정렬
======================================== */
.qo-sort-options { display: flex; gap: 0.375rem; background: var(--bg); padding: 0.25rem; border-radius: 0.625rem; width: fit-content; flex-shrink: 0; flex-wrap: wrap; }
.qo-sort-btn { background: transparent; border: none; border-radius: 0.5rem; padding: 0.375rem 0.75rem; font-size: 0.75rem; font-weight: 600; color: var(--muted); cursor: pointer; transition: all 0.2s; white-space: nowrap; }
.qo-sort-btn:hover { background: rgba(17, 24, 39, 0.1); color: var(--text); }
.qo-sort-btn--active { background: #111827; color: #fff; box-shadow: 0 0.0625rem 0.1875rem rgba(0, 0, 0, 0.1); }

/* ========================================
   슬로우 쿼리 리스트
======================================== */
.qo-slow-list-wrapper-tall { display: flex; flex-direction: column; flex: 1; min-height: 0; overflow: hidden; margin-top: 1rem; }
.qo-slow-list-content { display: flex; flex-direction: column; gap: 0.625rem; flex: 1; overflow: visible; min-height: 33rem; max-height: 33rem; }
.qo-slow-card-fixed { background: rgba(255, 255, 255, 0.8); border: 0.0625rem solid var(--border); border-radius: 0.75rem; padding: 0.75rem 0.875rem; transition: all 0.2s ease; animation: cardFadeIn 0.4s ease; cursor: pointer; height: 6rem; min-height: 6rem; max-height: 6rem; flex-shrink: 0; display: flex; flex-direction: column; justify-content: space-between; overflow: hidden; }
.qo-slow-card-fixed:hover { background: rgba(127, 129, 242, 0.08); }
.qo-slow-card-header { display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: 0.3125rem; gap: 0.5rem; min-height: 1.5rem; }
.qo-slow-card-left { display: flex; align-items: flex-start; gap: 0.5rem; flex: 1; min-width: 0; }
.qo-slow-card-query { flex: 1; min-width: 0; font-size: 0.8125rem; font-weight: 600; color: var(--text); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.qo-slow-card-severity { padding: 0.1875rem 0.625rem; border-radius: 0.375rem; font-size: 0.625rem; font-weight: 700; color: #fff; flex-shrink: 0; white-space: nowrap; }
.qo-slow-card-suggestion { font-size: 0.75rem; color: var(--text); margin-bottom: 0.3125rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; line-height: 1.2; }
.qo-slow-card-footer { display: flex; gap: 0.625rem; font-size: 0.6875rem; color: var(--muted); flex-shrink: 0; }
.qo-slow-card-time { font-weight: 500; white-space: nowrap; }
.qo-slow-card-occurred { font-weight: 400; white-space: nowrap; }

/* ========================================
   페이지네이션
======================================== */
.qo-pagination-fixed { margin-top: 0.5rem; padding-top: 0.5rem; flex-shrink: 0; display: flex; justify-content: center; }

/* ========================================
   카드 레이아웃
======================================== */
.qo-top-query-card { background: var(--card); border-radius: 1rem; padding: 1.25rem; border: 0.0625rem solid var(--border); box-shadow: var(--shadow); overflow: visible; }
.qo-top-query-card .qo-widget-header { z-index: 20; }
.qo-slow-top5-card { background: var(--card); border-radius: 1rem; padding: 1.25rem; border: 0.0625rem solid var(--border); box-shadow: var(--shadow); overflow: visible; }
.qo-slow-top5-card .qo-widget-header { z-index: 20; }
.qo-slow-list-card { background: var(--card); border-radius: 1rem; padding: 1.25rem; border: 0.0625rem solid var(--border); box-shadow: var(--shadow); height: 45rem; display: flex; flex-direction: column; }
.qo-slow-list-card .qo-widget-header { z-index: 20; }

/* ========================================
   하단 카드 그리드
======================================== */
.qo-bottom-cards { display: grid; grid-template-columns: repeat(12, 1fr); gap: 1rem; margin-top: 1.5rem; align-items: start; }
.qo-bottom-cards > *:nth-child(1) { grid-column: span 4; }
.qo-bottom-cards > *:nth-child(2) { grid-column: span 4; }
.qo-bottom-cards > *:nth-child(3) { grid-column: span 4; }

/* ========================================
   애니메이션
======================================== */
@keyframes barSlideIn {
  from { width: 0 !important; opacity: 0; }
  to { opacity: 1; }
}

@keyframes cardFadeIn {
  from { opacity: 0; transform: translateY(0.625rem); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes barPulse {
  0%, 100% { opacity: 1; filter: brightness(1); }
  50% { opacity: 0.85; filter: brightness(1.1); }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(0.625rem); }
  to { opacity: 1; transform: translateY(0); }
}

/* ========================================
   반응형 - 태블릿 (1400px 이하)
======================================== */
@media (max-width: 1400px) {
  .qo-metrics { display: grid; grid-template-columns: repeat(2, 1fr); }
}

/* ========================================
   반응형 - 태블릿 (1200px 이하)
======================================== */
@media (max-width: 1200px) {
  .chart-grid-layout { grid-template-columns: repeat(6, 1fr); }
  .qo-bottom-cards { grid-template-columns: repeat(6, 1fr); }
  .qo-bottom-cards > *:nth-child(1),
  .qo-bottom-cards > *:nth-child(2) { grid-column: span 6; }
  .qo-bottom-cards > *:nth-child(3) { grid-column: span 6; }
}

/* ========================================
   반응형 - 모바일 (768px 이하)
======================================== */
@media (max-width: 768px) {
  .qo-root { padding: 0.75rem; }
  .qo-metrics { flex-direction: column; gap: 0.75rem; }
  .qo-widget-header { flex-direction: column; align-items: flex-start; gap: 0.75rem; }
  .qo-legend { flex-direction: column; gap: 0.5rem; }
  .qo-query-text { font-size: 0.75rem; }
  .qo-tabs { width: 100%; }
  .qo-tab { flex: 1; min-width: calc(50% - 0.25rem); }
  .qo-sort-options { width: 100%; }
  .qo-sort-btn { flex: 1; }
  .chart-grid-layout { grid-template-columns: 1fr; }
  .qo-bottom-cards { grid-template-columns: 1fr; }
  .qo-bottom-cards > * { grid-column: span 1 !important; }
}