:root {
  --bg: #f3f5f7;
  --card: #ffffff;
  --text: #111827;
  --muted: #6b7280;
  --border: #e5e7eb;
  --shadow: 0 18px 50px rgba(8, 15, 23, 0.12);
  --primary: #6366f1;
}

/* 메인 컨테이너 */
.tq-root {
  padding: 16px;
  max-width: 100%;
  height: calc(100vh - 80px);
  overflow: hidden;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

/* 카드 */
.tq-card {
  background: linear-gradient(
    180deg,
    rgba(255, 255, 255, 0.58) 0%,
    rgba(255, 255, 255, 0.54) 100%
  );
  border-radius: 18px;
  border: 1px solid rgba(255, 255, 255, 0.8);
  box-shadow: 0px 10px 30px 0px rgba(0, 0, 0, 0.08);
  backdrop-filter: blur(3px);
  padding: 12px;
  display: flex;
  flex-direction: column;
}

/* Top Query 카드 (첫 번째 카드) - 높이 조정 (480px → 520px) */
.tq-card:first-child {
  height: 520px;
  max-height: 520px;
  min-height: 520px;
}

.tq-card__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 5px;
  flex-wrap: wrap;
  gap: 10px;
  flex-shrink: 0;
}

.tq-title {
  font-size: 20px;
  font-weight: 700;
  color: var(--text);
  margin: 0;
}

/* 탭 */
.tq-tabs {
  display: flex;
  gap: 4px;
  background: var(--bg);
  padding: 4px;
  border-radius: 10px;
}

.tq-tab {
  background: transparent;
  border: none;
  border-radius: 8px;
  padding: 10px 20px;
  font-size: 14px;
  font-weight: 600;
  color: var(--muted);
  cursor: pointer;
  transition: all 0.2s;
}
.tq-tab:hover { background: rgba(0, 0, 0, 0.05); color: var(--text); }
.tq-tab--active { background: #111827; color: #fff; }

/* 섹션 타이틀 */
.tq-section-title {
  font-size: 15px;
  font-weight: 600;
  color: var(--text);
  margin-bottom: 5px;
  flex-shrink: 0;
}

/* 쿼리 리스트 - flex: 1로 설정되어 카드가 늘어나면 자동으로 확장됨 */
.tq-query-list {
  display: flex;
  flex-direction: column;
  gap: 5px;
  padding-right: 4px;
  overflow-y: auto;
  flex: 1;
  min-height: 0;
}

/* 커스텀 스크롤바 */
.tq-query-list::-webkit-scrollbar,
.tq-slow-list::-webkit-scrollbar,
.tq-card:first-child::-webkit-scrollbar { width: 6px; }
.tq-query-list::-webkit-scrollbar-track,
.tq-slow-list::-webkit-scrollbar-track,
.tq-card:first-child::-webkit-scrollbar-track {
  background: rgba(0,0,0,0.05);
  border-radius: 10px;
}
.tq-query-list::-webkit-scrollbar-thumb,
.tq-slow-list::-webkit-scrollbar-thumb,
.tq-card:first-child::-webkit-scrollbar-thumb {
  background: rgba(0,0,0,0.2);
  border-radius: 10px;
}
.tq-query-list::-webkit-scrollbar-thumb:hover,
.tq-slow-list::-webkit-scrollbar-thumb:hover,
.tq-card:first-child::-webkit-scrollbar-thumb:hover {
  background: rgba(0,0,0,0.3);
}

.tq-query-item-wrapper { display: flex; flex-direction: column; gap: 3px; }
.tq-query-item {
  display: flex; align-items: center; gap: 12px; cursor: pointer;
  transition: all 0.2s; padding: 3px; border-radius: 8px;
}
.tq-query-item:hover { background: rgba(0,0,0,0.02); }

.tq-query-rank { font-size: 14px; font-weight: 500; color: var(--muted); min-width: 30px; }
.tq-query-id { font-size: 14px; font-weight: 600; color: var(--primary); min-width: 60px; }

.tq-query-bar-container {
  flex: 1; height: 26px; background: rgba(229,231,235,0.4);
  border-radius: 12px; overflow: hidden; position: relative;
}
.tq-query-bar {
  height: 100%;
  background: linear-gradient(90deg, #6366f1 0%, #8b5cf6 100%);
  border-radius: 12px; display: flex; align-items: center; padding: 0 12px;
  position: relative; animation: barSlideIn 0.8s cubic-bezier(0.4,0,0.2,1);
  transition: width 0.6s ease;
}
@keyframes barSlideIn { from { width:0!important; opacity:0; } to { opacity:1; } }

.tq-query-bar-label {
  color:#fff; font-size:13px; font-weight:700; position:absolute; right:12px;
}
.tq-query-value { font-size:15px; font-weight:700; color:var(--text); min-width:100px; text-align:right; }

/* 쿼리 상세 정보 */
.tq-query-detail {
  background: rgba(249,250,251,0.8);
  border: 1px solid var(--border);
  border-radius: 12px; padding: 14px; margin-left: 102px;
  animation: detailSlideDown 0.3s ease;
}
@keyframes detailSlideDown { from { opacity:0; transform:translateY(-10px);} to { opacity:1; transform:translateY(0);} }

.tq-detail-section { margin-bottom: 12px; }
.tq-detail-label { font-size:11px; font-weight:600; color:var(--muted); letter-spacing:.5px; margin-bottom:8px; }
.tq-detail-query {
  font-family: "Courier New", monospace; font-size: 13px; color: var(--text);
  background:#fff; padding:12px; border-radius:8px; border:1px solid var(--border);
  white-space: pre-wrap; word-break: break-word; margin-bottom:12px;
}
.tq-detail-actions { display:flex; justify-content:flex-end; }
.tq-detail-btn {
  background:#fff; border:1px solid var(--border); border-radius:8px;
  padding:10px 24px; font-size:14px; font-weight:600; color:var(--text);
  cursor:pointer; transition:all .2s;
}
.tq-detail-btn:hover { background: rgba(0,0,0,.02); border-color:#111827; color:#111827; }
.tq-detail-btn--primary { background:#111827; color:#fff; border-color:#111827; }
.tq-detail-btn--primary:hover { background:#1f2937; border-color:#1f2937; color:#fff; }

/* 슬로우 쿼리 헤더/통계/리스트 */
.tq-slow-header { display:flex; align-items:center; justify-content:space-between; width:100%; }
.tq-slow-title { display:flex; align-items:center; gap:6px; font-size:16px; font-weight:700; color:var(--text); }
.tq-slow-icon { font-size:18px; }

.tq-csv-btn {
  display:flex; align-items:center; gap:5px; background:#fff; border:1px solid var(--border);
  border-radius:8px; padding:6px 12px; font-size:12px; font-weight:600; color:var(--text);
  cursor:pointer; transition:all .2s;
}
.tq-csv-btn:hover { border-color: var(--primary); color: var(--primary); }
.tq-csv-icon { font-size:13px; }

.tq-slow-stats {
  display:flex; gap:20px; margin-bottom:6px; padding:7px 12px;
  background: rgba(249,250,251,.5); border-radius:12px; flex-shrink:0;
}
.tq-slow-stat { display:flex; align-items:center; gap:8px; }
.tq-slow-stat-label { font-size:12px; color:var(--muted); }
.tq-slow-stat-value { font-size:14px; font-weight:700; color:var(--text); }

.tq-sort-options {
  display:flex; gap:6px; margin-bottom:8px; background:var(--bg);
  padding:3px; border-radius:10px; width:fit-content; flex-shrink:0;
}
.tq-sort-btn {
  background:transparent; border:none; border-radius:8px; padding:6px 14px;
  font-size:12px; font-weight:600; color:var(--muted); cursor:pointer; transition:all .2s;
}
.tq-sort-btn:hover { background: rgba(17,24,39,.1); color: var(--text); }
.tq-sort-btn--active { background:#111827; color:#fff; box-shadow:0 1px 3px rgba(0,0,0,.1); }

/* 슬로우 쿼리 리스트 - 높이 증가 (250px → 300px) */
.tq-slow-list {
  display:flex; flex-direction:column; gap:8px; margin-bottom:16px;
  padding-right:4px; min-height:280px; max-height:280px; overflow-y: auto;
}
.tq-slow-card {
  background: rgba(255,255,255,.8); border:1px solid var(--border);
  border-radius:12px; padding:10px 14px; transition:all .2s; animation: cardFadeIn .4s ease;
}
@keyframes cardFadeIn { from{opacity:0; transform:translateY(10px);} to{opacity:1; transform:translateY(0);} }
.tq-slow-card:hover { box-shadow:0 4px 12px rgba(0,0,0,.08); transform: translateY(-2px); }

.tq-slow-card-header {
  display:flex; align-items:flex-start; justify-content:space-between;
  margin-bottom:5px; gap:8px;
}
.tq-slow-card-left { display:flex; align-items:flex-start; gap:8px; flex:1; min-width:0; }
.tq-slow-card-icon { font-size:18px; flex-shrink:0; }
.tq-slow-card-query {
  flex:1; min-width:0; font-size:13px; font-weight:600; color:var(--text);
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.tq-slow-card-severity { padding:3px 10px; border-radius:6px; font-size:10px; font-weight:700; color:#fff; flex-shrink:0; }
.tq-slow-card-suggestion { font-size:12px; color:var(--text); margin-bottom:5px; padding-left:26px; }
.tq-slow-card-footer { display:flex; gap:12px; padding-left:26px; font-size:11px; color:var(--muted); }
.tq-slow-card-time { font-weight:500; }
.tq-slow-card-occurred { font-weight:400; }